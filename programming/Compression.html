<!DOCTYPE html>
<html><head><title>Compression</title><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="Compression"/><meta property="og:description" content="Storage space is valuable. Whether it’s memory on someone’s computer that needs to be preserved to keep it running, or space on a drive to keep it from being full."/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="Storage space is valuable. Whether it’s memory on someone’s computer that needs to be preserved to keep it running, or space on a drive to keep it from being full."/><meta name="generator" content="Quartz"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="programming/Compression"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title "><a href="..">Computer Science Knowledge Base</a></h1><div class="spacer mobile-only"></div><div class="search "><div id="search-icon"><p>Search</p><div></div><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="results-container"></div></div></div></div><div class="darkmode "><input class="toggle" id="darkmode-toggle" type="checkbox" tabindex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve"><title>Light mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve"><title>Dark mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;Databases&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;events&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Game-Dev-&amp;-Graphics&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Hardware&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;HCI-&amp;-VR&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Networking-&amp;-Webdev&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;OS-&amp;-Firmware&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;programming&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Security-&amp;-Cryptography&quot;,&quot;collapsed&quot;:true}]"><h1>Explorer</h1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Databases"><button class="folder-button"><span class="folder-title">Databases</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Databases"><li><a href="../Databases/Basics" data-for="Databases/Basics">🌱Basics/Intro</a></li><li><a href="../Databases/SQL" data-for="Databases/SQL">SQL</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="events"><button class="folder-button"><span class="folder-title">events</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="events"><li><a href="../events/GDG-YYC" data-for="events/GDG-YYC">GDG YYC</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Game-Dev-&amp;-Graphics"><button class="folder-button"><span class="folder-title">Game Dev &amp; Graphics</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Game-Dev-&amp;-Graphics"><li><a href="../Game-Dev-&amp;-Graphics/Basics" data-for="Game-Dev-&amp;-Graphics/Basics">🌱Basics/Intro</a></li><li><a href="../Game-Dev-&amp;-Graphics/Cellular-Automata-(TODO)" data-for="Game-Dev-&amp;-Graphics/Cellular-Automata-(TODO)">Cellular Automata (TODO)</a></li><li><a href="../Game-Dev-&amp;-Graphics/Noise-(TODO)" data-for="Game-Dev-&amp;-Graphics/Noise-(TODO)">Noise (TODO)</a></li><li><a href="../Game-Dev-&amp;-Graphics/Procedural-Generation-(TODO)" data-for="Game-Dev-&amp;-Graphics/Procedural-Generation-(TODO)">Procedural Generation (TODO)</a></li><li><a href="../Game-Dev-&amp;-Graphics/Quaternions-(TODO)" data-for="Game-Dev-&amp;-Graphics/Quaternions-(TODO)">Quaternions (TODO)</a></li><li><a href="../Game-Dev-&amp;-Graphics/Rendering-(TODO)" data-for="Game-Dev-&amp;-Graphics/Rendering-(TODO)">Rendering (TODO)</a></li><li><a href="../Game-Dev-&amp;-Graphics/Shaders-(TODO)" data-for="Game-Dev-&amp;-Graphics/Shaders-(TODO)">Shaders (TODO)</a></li><li><a href="../Game-Dev-&amp;-Graphics/UI-Strategies-(TODO)" data-for="Game-Dev-&amp;-Graphics/UI-Strategies-(TODO)">UI Strategies (TODO)</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Hardware"><button class="folder-button"><span class="folder-title">Hardware</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Hardware"><li><a href="../Hardware/Basics" data-for="Hardware/Basics">🌱Basics/Intro</a></li><li><a href="../Hardware/Connection-Types-(TODO)" data-for="Hardware/Connection-Types-(TODO)">Connection Types (TODO)</a></li><li><a href="../Hardware/CPU-(TODO)" data-for="Hardware/CPU-(TODO)">CPU (TODO)</a></li><li><a href="../Hardware/Logic-Gates-(TODO)" data-for="Hardware/Logic-Gates-(TODO)">Logic Gates (TODO)</a></li><li><a href="../Hardware/RAM" data-for="Hardware/RAM">RAM</a></li><li><a href="../Hardware/Storage-(TODO)" data-for="Hardware/Storage-(TODO)">Storage (TODO)</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="HCI-&amp;-VR"><button class="folder-button"><span class="folder-title">HCI &amp; VR</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="HCI-&amp;-VR"><li><a href="../HCI-&amp;-VR/basics" data-for="HCI-&amp;-VR/basics">🌱Basics/Intro</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Networking-&amp;-Webdev"><button class="folder-button"><span class="folder-title">Networking &amp; Webdev</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Networking-&amp;-Webdev"><li><a href="../Networking-&amp;-Webdev/Basics" data-for="Networking-&amp;-Webdev/Basics">🌱Basics/Intro</a></li><li><a href="../Networking-&amp;-Webdev/HTTP" data-for="Networking-&amp;-Webdev/HTTP">HTTP</a></li><li><a href="../Networking-&amp;-Webdev/IP-(internet-Protocol)" data-for="Networking-&amp;-Webdev/IP-(internet-Protocol)">IP (internet Protocol)</a></li><li><a href="../Networking-&amp;-Webdev/Networking-Error-Correction-(TODO)" data-for="Networking-&amp;-Webdev/Networking-Error-Correction-(TODO)">Networking Error Correction (TODO)</a></li><li><a href="../Networking-&amp;-Webdev/Products-and-Services-(TODO)" data-for="Networking-&amp;-Webdev/Products-and-Services-(TODO)">Products and Services (TODO)</a></li><li><a href="../Networking-&amp;-Webdev/SMB-(TODO)" data-for="Networking-&amp;-Webdev/SMB-(TODO)">SMB (TODO)</a></li><li><a href="../Networking-&amp;-Webdev/SMTP-(TODO)" data-for="Networking-&amp;-Webdev/SMTP-(TODO)">SMTP (TODO)</a></li><li><a href="../Networking-&amp;-Webdev/SSH-(TODO)" data-for="Networking-&amp;-Webdev/SSH-(TODO)">SSH (TODO)</a></li><li><a href="../Networking-&amp;-Webdev/Virtualization-(TODO)" data-for="Networking-&amp;-Webdev/Virtualization-(TODO)">Virtualization (TODO)</a></li><li><a href="../Networking-&amp;-Webdev/WebDav-(TODO)" data-for="Networking-&amp;-Webdev/WebDav-(TODO)">WebDav (TODO)</a></li><li><a href="../Networking-&amp;-Webdev/Webpages-(TODO)" data-for="Networking-&amp;-Webdev/Webpages-(TODO)">Webpages (TODO)</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="OS-&amp;-Firmware"><button class="folder-button"><span class="folder-title">OS &amp; Firmware</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="OS-&amp;-Firmware"><li><a href="../OS-&amp;-Firmware/Basics" data-for="OS-&amp;-Firmware/Basics">🌱Basics/Intro</a></li><li><a href="../OS-&amp;-Firmware/Files-&amp;-Filesystems-(TODO)" data-for="OS-&amp;-Firmware/Files-&amp;-Filesystems-(TODO)">Files &amp; Filesystems (TODO)</a></li><li><a href="../OS-&amp;-Firmware/Unix-&amp;-Linux" data-for="OS-&amp;-Firmware/Unix-&amp;-Linux">Linux</a></li><li><a href="../OS-&amp;-Firmware/Memory-&amp;-Storage" data-for="OS-&amp;-Firmware/Memory-&amp;-Storage">Memory &amp; Storage</a></li><li><a href="../OS-&amp;-Firmware/Userspace" data-for="OS-&amp;-Firmware/Userspace">Userspace</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="programming"><button class="folder-button"><span class="folder-title">programming</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="programming"><li><a href="../programming/Basics" data-for="programming/Basics">🌱Basics/Intro</a></li><li><a href="../programming/Abstraction-(TODO)" data-for="programming/Abstraction-(TODO)">Abstraction (TODO)</a></li><li><a href="../programming/Advanced-Data-Structures-(TODO)" data-for="programming/Advanced-Data-Structures-(TODO)">Advanced Data Structures (TODO)</a></li><li><a href="../programming/Algorithms-&amp;-Complexity-(TODO)" data-for="programming/Algorithms-&amp;-Complexity-(TODO)">Algorithms &amp; Complexity (TODO)</a></li><li><a href="../programming/Compilers-(TODO)" data-for="programming/Compilers-(TODO)">Compilers (TODO)</a></li><li><a href="../programming/Compression" data-for="programming/Compression">Compression</a></li><li><a href="../programming/Encodings" data-for="programming/Encodings">Encodings</a></li><li><a href="../programming/Open-Source-&amp;-Free-Software" data-for="programming/Open-Source-&amp;-Free-Software">FOSS (Free and Open Source Software)</a></li><li><a href="../programming/Garbage-Collection-(TODO)" data-for="programming/Garbage-Collection-(TODO)">Garbage Collection (TODO)</a></li><li><a href="../programming/Hashing" data-for="programming/Hashing">Hashing</a></li><li><a href="../programming/Binary,-Hexadecimal-and-Number-Systems" data-for="programming/Binary,-Hexadecimal-and-Number-Systems">Number Systems (binary &amp; hex)</a></li><li><a href="../programming/Parallelism-&amp;-Asynchronus-code-(TODO)" data-for="programming/Parallelism-&amp;-Asynchronus-code-(TODO)">Parallelism &amp; Asynchronus code (TODO)</a></li><li><a href="../programming/Programming-Paradigms-(TODO)" data-for="programming/Programming-Paradigms-(TODO)">Programming Paradigms (TODO)</a></li><li><a href="../programming/python" data-for="programming/python">python</a></li><li><a href="../programming/Regex-(TODO)" data-for="programming/Regex-(TODO)">Regex (TODO)</a></li><li><a href="../programming/Speculation-&amp;-Branch-Prediction-(TODO)" data-for="programming/Speculation-&amp;-Branch-Prediction-(TODO)">Speculation &amp; Branch Prediction (TODO)</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Security-&amp;-Cryptography"><button class="folder-button"><span class="folder-title">Security &amp; Cryptography</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Security-&amp;-Cryptography"><li><a href="../Security-&amp;-Cryptography/Basics" data-for="Security-&amp;-Cryptography/Basics">🌱Basics/Intro</a></li><li><a href="../Security-&amp;-Cryptography/low-level" data-for="Security-&amp;-Cryptography/low-level">low-level</a></li><li><a href="../Security-&amp;-Cryptography/Samir-Secret-Sharing-(TODO)" data-for="Security-&amp;-Cryptography/Samir-Secret-Sharing-(TODO)">Samir Secret Sharing (TODO)</a></li><li><a href="../Security-&amp;-Cryptography/Types-of-attacks-(TODO)" data-for="Security-&amp;-Cryptography/Types-of-attacks-(TODO)">Types of attacks (TODO)</a></li><li><a href="../Security-&amp;-Cryptography/Whitehat,-Grey-Hat,-and-Black-Hat-Hacking" data-for="Security-&amp;-Cryptography/Whitehat,-Grey-Hat,-and-Black-Hat-Hacking">White, Grey &amp; Black Hat Hacking</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container " aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../programming/">programming</a></div></nav><h1 class="article-title ">Compression</h1><p class="content-meta ">May 17, 2024, 8 min read</p></div></div><article class="popover-hint"><p>Storage space is valuable. Whether it’s memory on someone’s computer that needs to be preserved to keep it running, or space on a drive to keep it from being full. Compression is the act of taking some sort of data and storing it in a form that takes up less space than the original form. Usually this is done by finding out what patterns in the data repeat, and then finding ways to represent those repetitions in more compact forms. Compression can be done in tons of clever ways for various different types of data, but an incredibly common form is text compression.</p>
<h2 id="encoding-as-compression">Encoding as compression<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#encoding-as-compression" class="internal alias"> §</a></h2>
<p>Some people consider some forms of <a href="../programming/Encodings" class="internal" data-slug="programming/Encodings">Encodings</a> to be compression. This is a reasonable perspective, in fact many forms of encodings are designed specifically to support compression (such as JPEG).</p>
<h2 id="text">Text<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#text" class="internal alias"> §</a></h2>
<p>For text generally speaking you can look for common patterns and then replace them in the text to make it shorter. For example:</p>
<p><img src=".././img/compression/io-example.png" alt/></p>
<p>Since each character is roughly 1 byte, we saved 13 bytes.</p>
<h2 id="images">Images<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#images" class="internal alias"> §</a></h2>
<p>Images are another common format that requires compression. With images however there are 2 primary types lossless and lossy.</p>
<h3 id="lossless">Lossless<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#lossless" class="internal alias"> §</a></h3>
<p>Lossless formats are what we’re used to. They take in some data, compress it, and at the end you can decompress it to get back exactly the data you put in. This is handy for things like text (you usually don’t want just <strong>some</strong> of a text file), or images that need high fidelity. PNG is a format that is a lossless form of compression.</p>
<h3 id="lossy">Lossy<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#lossy" class="internal alias"> §</a></h3>
<p>Lossy is unlike the systems we’ve seen before. With typical compression we want to get back <strong>exactly</strong> what we had before we compressed it. With lossy compression we want to be “close”. Imagine you have a large image on a small screen, let’s say a 1920x1080px image on a 480x720p screen. If we were to resize the image and in the process remove 1/8 of the pixels and just stich together a smaller but “close enough” version of the image, most people wouldn’t notice.</p>
<p>Formats like JPG are lossy. They basically create versions of images that are “close enough” to the original source images. This can cause some issues like <a href="https://en.wikipedia.org/wiki/Compression_artifact" class="external alias">artifacts</a>, a good quick explainer about this can be found <a href="https://www.youtube.com/watch?v=yBX8GFqt6GA" class="external alias">here as a video</a></p>
<h3 id="base-64">Base 64<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#base-64" class="internal alias"> §</a></h3>
<p>There are multiple different number systems that exist. For the most part people use base 10, which is where numbers go from 0-9, then you add a digit, and then each successive digit is a multiple of 10 (100, 1000, etc.).</p>
<p>There are several other number systems used in computer science. Base 2 is where you go from 0-1 and then shift up a digit where each digit is a power of 2 (i.e. 0001 is 1, 0010 is 2, 0100 is 4, 1000 is 8 etc.). Or hex which is base 16 where you go from 0-9 then letters A-F.</p>
<p>One other interesting number system we use is base 64. The reason base 64 is handy is because it gives you short text representations for lots of data. This is why in many database systems images are not stored as images. The metadata is stored elsewhere for each image, and the images themselves are stores by taking all the data that makes up the pixels and converting it to base64.</p>
<p>For example if we take the <a href=".././img/compression/t.jpg" class="internal alias" data-slug="img/compression/t.jpg">5x5 version</a> of this image:</p>
<p><img src=".././img/compression/pixel-image.png" alt/></p>
<p>Can be stored as:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="bash" data-theme="github-dark github-light"><code data-language="bash" data-theme="github-dark github-light" style="display:grid;"><span data-line><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1;">data:image/jpeg</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">;</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1;">base64,/9j/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABtbnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLUhQICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFjcHJ0AAABUAAAADNkZXNjAAABhAAAAGx3dHB0AAAB8AAAABRia3B0AAACBAAAABRyWFlaAAACGAAAABRnWFlaAAACLAAAABRiWFlaAAACQAAAABRkbW5kAAACVAAAAHBkbWRkAAACxAAAAIh2dWVkAAADTAAAAIZ2aWV3AAAD1AAAACRsdW1pAAAD+AAAABRtZWFzAAAEDAAAACR0ZWNoAAAEMAAAAAxyVFJDAAAEPAAACAxnVFJDAAAEPAAACAxiVFJDAAAEPAAACAx0ZXh0AAAAAENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueQAAZGVzYwAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAABJzUkdCIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWFlaIAAAAAAAAPNRAAEAAAABFsxYWVogAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z2Rlc2MAAAAAAAAAFklFQyBodHRwOi8vd3d3LmllYy5jaAAAAAAAAAAAAAAAFklFQyBodHRwOi8vd3d3LmllYy5jaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkZXNjAAAAAAAAAC5JRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0IAAAAAAAAAAAAAAC5JRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZGVzYwAAAAAAAAAsUmVmZXJlbmNlIFZpZXdpbmcgQ29uZGl0aW9uIGluIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAALFJlZmVyZW5jZSBWaWV3aW5nIENvbmRpdGlvbiBpbiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHZpZXcAAAAAABOk/gAUXy4AEM8UAAPtzAAEEwsAA1yeAAAAAVhZWiAAAAAAAEwJVgBQAAAAVx/nbWVhcwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAo8AAAACc2lnIAAAAABDUlQgY3VydgAAAAAAAAQAAAAABQAKAA8AFAAZAB4AIwAoAC0AMgA3ADsAQABFAEoATwBUAFkAXgBjAGgAbQByAHcAfACBAIYAiwCQAJUAmgCfAKQAqQCuALIAtwC8AMEAxgDLANAA1QDbAOAA5QDrAPAA9gD7AQEBBwENARMBGQEfASUBKwEyATgBPgFFAUwBUgFZAWABZwFuAXUBfAGDAYsBkgGaAaEBqQGxAbkBwQHJAdEB2QHhAekB8gH6AgMCDAIUAh0CJgIvAjgCQQJLAlQCXQJnAnECegKEAo4CmAKiAqwCtgLBAssC1QLgAusC9QMAAwsDFgMhAy0DOANDA08DWgNmA3IDfgOKA5YDogOuA7oDxwPTA+AD7AP5BAYEEwQgBC0EOwRIBFUEYwRxBH4EjASaBKgEtgTEBNME4QTwBP4FDQUcBSsFOgVJBVgFZwV3BYYFlgWmBbUFxQXVBeUF9gYGBhYGJwY3BkgGWQZqBnsGjAadBq8GwAbRBuMG9QcHBxkHKwc9B08HYQd0B4YHmQesB78H0gflB/gICwgfCDIIRghaCG4IggiWCKoIvgjSCOcI+wkQCSUJOglPCWQJeQmPCaQJugnPCeUJ+woRCicKPQpUCmoKgQqYCq4KxQrcCvMLCwsiCzkLUQtpC4ALmAuwC8gL4Qv5DBIMKgxDDFwMdQyODKcMwAzZDPMNDQ0mDUANWg10DY4NqQ3DDd4N+A4TDi4OSQ5kDn8Omw62DtIO7g8JDyUPQQ9eD3oPlg+zD88P7BAJECYQQxBhEH4QmxC5ENcQ9RETETERTxFtEYwRqhHJEegSBxImEkUSZBKEEqMSwxLjEwMTIxNDE2MTgxOkE8UT5RQGFCcUSRRqFIsUrRTOFPAVEhU0FVYVeBWbFb0V4BYDFiYWSRZsFo8WshbWFvoXHRdBF2UXiReuF9IX9xgbGEAYZRiKGK8Y1Rj6GSAZRRlrGZEZtxndGgQaKhpRGncanhrFGuwbFBs7G2MbihuyG9ocAhwqHFIcexyjHMwc9R0eHUcdcB2ZHcMd7B4WHkAeah6UHr4e6R8THz4faR+UH78f6iAVIEEgbCCYIMQg8CEcIUghdSGhIc4h+yInIlUigiKvIt0jCiM4I2YjlCPCI/AkHyRNJHwkqyTaJQklOCVoJZclxyX3JicmVyaHJrcm6CcYJ0kneierJ9woDSg/KHEooijUKQYpOClrKZ0p0CoCKjUqaCqbKs8rAis2K2krnSvRLAUsOSxuLKIs1y0MLUEtdi2rLeEuFi5MLoIuty7uLyQvWi+RL8cv/jA1MGwwpDDbMRIxSjGCMbox8jIqMmMymzLUMw0zRjN/M7gz8TQrNGU0njTYNRM1TTWHNcI1/TY3NnI2rjbpNyQ3YDecN9c4FDhQOIw4yDkFOUI5fzm8Ofk6Njp0OrI67zstO2s7qjvoPCc8ZTykPOM9Ij1hPaE94D4gPmA+oD7gPyE/YT+iP+JAI0BkQKZA50EpQWpBrEHuQjBCckK1QvdDOkN9Q8BEA0RHRIpEzkUSRVVFmkXeRiJGZ0arRvBHNUd7R8BIBUhLSJFI10kdSWNJqUnwSjdKfUrESwxLU0uaS+JMKkxyTLpNAk1KTZNN3E4lTm5Ot08AT0lPk0/dUCdQcVC7UQZRUFGbUeZSMVJ8UsdTE1NfU6pT9lRCVI9U21UoVXVVwlYPVlxWqVb3V0RXklfgWC9YfVjLWRpZaVm4WgdaVlqmWvVbRVuVW+VcNVyGXNZdJ114XcleGl5sXr1fD19hX7NgBWBXYKpg/GFPYaJh9WJJYpxi8GNDY5dj62RAZJRk6WU9ZZJl52Y9ZpJm6Gc9Z5Nn6Wg/aJZo7GlDaZpp8WpIap9q92tPa6dr/2xXbK9tCG1gbbluEm5rbsRvHm94b9FwK3CGcOBxOnGVcfByS3KmcwFzXXO4dBR0cHTMdSh1hXXhdj52m3b4d1Z3s3gReG54zHkqeYl553pGeqV7BHtje8J8IXyBfOF9QX2hfgF+Yn7CfyN/hH/lgEeAqIEKgWuBzYIwgpKC9INXg7qEHYSAhOOFR4Wrhg6GcobXhzuHn4gEiGmIzokziZmJ/opkisqLMIuWi/yMY4zKjTGNmI3/jmaOzo82j56QBpBukNaRP5GokhGSepLjk02TtpQglIqU9JVflcmWNJaflwqXdZfgmEyYuJkkmZCZ/JpomtWbQpuvnByciZz3nWSd0p5Anq6fHZ+Ln/qgaaDYoUehtqImopajBqN2o+akVqTHpTilqaYapoum/adup+CoUqjEqTepqaocqo+rAqt1q+msXKzQrUStuK4trqGvFq+LsACwdbDqsWCx1rJLssKzOLOutCW0nLUTtYq2AbZ5tvC3aLfguFm40blKucK6O7q1uy67p7whvJu9Fb2Pvgq+hL7/v3q/9cBwwOzBZ8Hjwl/C28NYw9TEUcTOxUvFyMZGxsPHQce/yD3IvMk6ybnKOMq3yzbLtsw1zLXNNc21zjbOts83z7jQOdC60TzRvtI/0sHTRNPG1EnUy9VO1dHWVdbY11zX4Nhk2OjZbNnx2nba+9uA3AXcit0Q3ZbeHN6i3ynfr+A24L3hROHM4lPi2+Nj4+vkc+T85YTmDeaW5x/nqegy6LzpRunQ6lvq5etw6/vshu0R7ZzuKO6070DvzPBY8OXxcvH/8ozzGfOn9DT0wvVQ9d72bfb794r4Gfio+Tj5x/pX+uf7d/wH/Jj9Kf26/kv+3P9t////7gAhQWRvYmUAZEAAAAABAwAQAwIDBgAAAAAAAAAAAAAAAP/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQoJCg0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8IAEQgABQAFAwERAAIRAQMRAf/EAGgAAQAAAAAAAAAAAAAAAAAAAAgBAQAAAAAAAAAAAAAAAAAAAAAQAQEBAAAAAAAAAAAAAAAAAAQAFxEAAgICAgMAAAAAAAAAAAAAAwQTBRQVABYGCBgSAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEBAhEDEQAAAH4f/9oACAECAAEFAL//2gAIAQMAAQUAv//aAAgBAQABBQAxja7/AP/aAAgBAgIGPwB//9oACAEDAgY/AH//2gAIAQEBBj8AuSiufYDWfQFYZ1I1Z5xosPqj4l1VWCvxdf38p2DgFiyQLsA1uK1z/9k</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">=</span></span></code></pre></figure>
<p>With this text representation the text can now be further compressed</p>
<h2 id="videos--audio">Videos &amp; Audio<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#videos--audio" class="internal alias"> §</a></h2>
<p>Text and images are important, and should be compressed since it’s wasteful not to, however videos and audio are some of the largest files you will encounter on devices. This is because inherently the quality is tied to file size. The greater the quality of video and audio the more you need to sample.</p>
<h3 id="sampling">Sampling<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#sampling" class="internal alias"> §</a></h3>
<p>Sampling is basically the frequency you measure at. Obviously when videos and audio is created it needs to be recorded, and in order to record the camera and/or microphone needs to know how quickly it should be capturing information. With Video this is usually in fps (frames per second) where you tell the camera to record for example 30 frames per second (1 frame of video captured every ~33 miliseconds!).</p>
<p>Audio is sampled even more agressively than video, typically it’s sampled in kHz, and usually ~48kHz (48,000 samples/second or 1 sample per ~28 microseconds which is 1,000,000 smaller than a second).</p>
<h4 id="the-cost-of-sampling">The cost of sampling<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#the-cost-of-sampling" class="internal alias"> §</a></h4>
<p>So uncompressed if we took a 720p video (1280x720 pixels or 921,600 pixels) at 30fps, using RGB colours (3 8 bit numbers representing the amount of red, green, blue in a frame), and 44.1kHz audio at <a href="https://www.headphonesty.com/2019/07/sample-rate-bit-depth-bit-rate/" class="external alias">16-bit depth</a> (1,411,200 bits per second) then per second we are storing ~ 83.12 megaBytes per second:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="sql" data-theme="github-dark github-light"><code data-language="sql" data-theme="github-dark github-light" style="display:grid;"><span data-line><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">Audio </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">+</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> video </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> total per </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">second</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">44</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">100</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> samples x </span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">16</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> bits per </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">sample</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> x </span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">2</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> channels </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">/</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;"> 8</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> bits per byte) </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">+</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">921</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">600</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> pixels </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">*</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;"> 3</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> bytes per pixel </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">*</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;"> 30</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> frames per </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">second</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> total per </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">second</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">176</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">400</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> bytes) </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">+</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">82</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">944</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">000</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> bytes) </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;"> 83</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">120</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">400</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> bytes</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">/second</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> </span></span>
<span data-line> </span>
<span data-line><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">83</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">120</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">400</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> bytes per </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">second</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;"> /</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;"> 1000</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> bytes per kiloByte </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">/</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;"> 1000</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> kiloBytes per megaByte </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;"> 83</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5;">12</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E;"> MegaBytes per </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49;">second</span></span></code></pre></figure>
<p>That might not sound like a lot, but for a 1 minute video that’s 4.987 Gigabytes or 2.9922 TeraBytes per hour. So if you had a shop with some security cameras and you wanted to record in 720p with 44.1kHz 16-bit audio you would end up with 71.8128 TeraBytes per day, or 26.211672 PetaBytes a year. If we were to buy the largest drive I found on memory express (<a href="https://www.memoryexpress.com/Products/MX00125311" class="external alias">this one</a>) it’s about <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">30/</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">so</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.02691em;">tw</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">d</span><span class="mord mathnormal">cos</span><span class="mord mathnormal">t</span></span></span></span>2,127 and for a year it would be ~<span class="katex-error" title="ParseError: KaTeX parse error: Expected 'EOF', got '#' at position 210: …/youtube-stats/#̲:~:text=Around%…" style="color:#cc0000;">786,350.16. This would never be sustainable for video hosting services. To put this in perspective there’s 8760 hours per year, and YouTube has [271,330 hours per **day**](https://www.wyzowl.com/youtube-stats/#:~:text=Around%203.7m%20new%20videos,average%20length%20of%204.4%20minutes.) being uploaded (~</span>24 million a day, or ~$9 billion a year). So how do we make these smaller?</p>
<h3 id="codecs">Codecs<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#codecs" class="internal alias"> §</a></h3>
<p>Codecs are the name given to the systems that are used to encode and decode video files. There are tons of codecs, and tons of variants of codecs that substitute different parts of the compression -> encoding -> decoding pipeline</p>
<p>Some common codecs are:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Moving_Picture_Experts_Group#Standards" class="external alias">MPEG</a></li>
<li><a href="https://en.wikipedia.org/wiki/Advanced_Video_Coding" class="external alias">H.264/AVC</a></li>
<li><a href="https://en.wikipedia.org/wiki/High_Efficiency_Video_Coding" class="external alias">HEVC</a></li>
<li><a href="https://en.wikipedia.org/wiki/AV1" class="external alias">AV1</a></li>
</ul>
<h2 id="why-not-compress-everything">Why not compress everything?<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#why-not-compress-everything" class="internal alias"> §</a></h2>
<p>Most things these days are compressed, but you might not always want compression. Compression helps save space, this can be important where space is limited, or where the amount of information sent matters (i.e. over a network). But, this does comes with a few potential tradeoffs.</p>

















<div class="table-container"><table><thead><tr><th>Pros</th><th>Cons</th></tr></thead><tbody><tr><td>Saves space</td><td>Compression algorithms can be intense and take a while to compute</td></tr><tr><td>Can be faster to load over a network</td><td>Since it’s a special format you need a program to decompress it which can take time and lots of resources</td></tr></tbody></table></div>
<p>So if you have an incredibly weak computer, but a lot of storage, it might be worth trading off the loss of storage space for less computing power needed. Alternatively if you don’t have access to install the software to read compressed files, you may be stuck with uncompressed formats.</p>
<h2 id="compression-systems">Compression systems<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#compression-systems" class="internal alias"> §</a></h2>
<p>Most real world compression systems are based on the encoding they use. But here are a few examples you can look at:</p>
<p><strong>Text</strong></p>
<p>Algorithms that make up common compression systems</p>
<ul>
<li>Huffman Coding
<ul>
<li><a href="https://www.youtube.com/watch?v=JsTptu56GM8" class="external alias">How Computers Compress Text: Huffman Coding and Huffman Trees</a></li>
<li><a href="https://www.youtube.com/watch?v=iEm1NRyEe5c" class="external alias">Huffman coding step-by-step example</a></li>
<li><a href="https://www.youtube.com/watch?v=umTbivyJoiI" class="external alias">How Huffman Trees Work - Computerfile</a></li>
<li><a href="https://cmps-people.ok.ubc.ca/ylucet/DS/Huffman.html" class="external alias">Huffman Coding Visualizer</a></li>
</ul>
</li>
<li>LZ77/LZ1
<ul>
<li><a href="https://www.youtube.com/watch?v=goOa3DGezUA" class="external alias">Elegant Compression in Text (The LZ 77 Method) - Computerphile</a></li>
<li><a href="https://www.youtube.com/watch?v=RV5aUr8sZD0" class="external alias">The Beauty of Lempel-Ziv Compression</a></li>
<li><a href="https://www.youtube.com/watch?v=jVcTrBjI-eE" class="external alias">Learn in 5 Minutes: LZ77 Compression Algorithms</a></li>
<li><a href="https://www.youtube.com/watch?v=zev2A2uWYsM" class="external alias">17. LZ77 Encoding, decoding with examples.</a></li>
<li><a href="https://kg86.github.io/visstr/dist/vis_str_demo.html" class="external alias">String Visualizer</a></li>
</ul>
</li>
<li>Deflate
<ul>
<li><a href="https://www.youtube.com/watch?v=O1NATKw6G_U" class="external alias">An explanation of the Deflate Algorithm</a></li>
<li><a href="https://www.zlib.net/feldspar.html" class="external alias">An Explanation of the Deflate Algorithm (original publication)</a></li>
<li><a href="https://www.youtube.com/watch?v=oi2lMBBjQ8s" class="external alias">Data Compression (Summer 2020) - Lecture 11 - DEFLATE (gzip)</a></li>
</ul>
</li>
</ul>
<p>Common compression systems (Use deflate, huffman coding, and LZ77/LZ1)</p>
<ul>
<li>Gzip; A generic compression system used in most browsers and applications
<ul>
<li><a href="https://www.youtube.com/watch?v=NLtt4S9ErIA" class="external alias">Gzip file compression in 100 seconds</a></li>
<li><a href="https://www.youtube.com/watch?v=maL-SqyXvj8" class="external alias">How Gzip Compression Works</a></li>
<li><a href="https://www.youtube.com/watch?v=wLx5OGxOYUc" class="external alias">Raul Fraile: How GZIP compression works | JSConf EU 2014</a></li>
</ul>
</li>
<li>Brotli; A webpage optimized compression system
<ul>
<li><a href="https://www.youtube.com/watch?v=Uiyu3uo4OAE" class="external alias">Brotli Compression vs GZIP Compression</a></li>
<li><a href="https://www.brotli.org/" class="external alias">Brotli site</a></li>
<li><a href="https://github.com/google/brotli" class="external alias">Source code</a></li>
</ul>
</li>
</ul>
<p><strong>Image</strong></p>
<ul>
<li>JPG; Very common <a href="https://schulichignite.com/definitions/compression/#lossy" class="external alias">lossy</a> image compression
<ul>
<li><a href="https://www.youtube.com/watch?v=Kv1Hiv3ox8I" class="external alias">This video</a></li>
<li>These two videos from computephile
<ul>
<li><a href="https://www.youtube.com/watch?v=n_uNPbdenRs" class="external alias">Part 1</a></li>
<li><a href="https://www.youtube.com/watch?v=Q2aEzeMDHMA" class="external alias">Part 2</a></li>
</ul>
</li>
<li><a href="https://en.wikibooks.org/wiki/JPEG_-_Idea_and_Practice" class="external alias">This set of articles</a></li>
</ul>
</li>
<li>PNG; Common <a href="https://schulichignite.com/definitions/compression/#lossless" class="external alias">lossless</a> image format that also supports transparency
<ul>
<li><a href="https://medium.com/@duhroach/how-png-works-f1174e3cc7b7" class="external alias">How PNG Works</a></li>
<li><a href="https://www.youtube.com/watch?v=EFUYNoFRHQI" class="external alias">How PNG Works: Compromising Speed for Quality</a></li>
<li><a href="https://compress-or-die.com/Understanding-PNG" class="external alias">Finally understanding PNG</a></li>
</ul>
</li>
<li>Base64; A text-based way of storing image data
<ul>
<li><a href="https://www.youtube.com/watch?v=7gSSMy_M4HU" class="external alias">Base64 Encoding/Decoding explained</a></li>
<li><a href="https://www.youtube.com/watch?v=EPlXPdNvQEY" class="external alias">How to Convert Images Into Base 64 Data URLs with JavaScript</a></li>
<li><a href="https://www.youtube.com/watch?v=fe062UdOKuo" class="external alias">Reduce base64 image file size | JavaScript</a></li>
</ul>
</li>
</ul>
<p>A good broad topic video can be found <a href="https://www.youtube.com/watch?v=Ba89cI9eIg8" class="external alias">here</a></p>
<p><strong>Video</strong></p>
<ul>
<li>MPEG; Set of formats used for videos (mpeg-4 is also known at <code>.mp4</code> files)
<ul>
<li><a href="https://www.youtube.com/watch?v=F0ZinF-gTrY" class="external alias">What is MPEG Format | What is MPEG 4 Format | What are MPEG 1, MPEG 2 &amp; MPEG 21</a></li>
<li><a href="https://www.youtube.com/watch?v=Ky4CaKw7tdo" class="external alias">MPEG Algorithm - Video &amp; Audio Compression - Data Compression &amp; Encryption</a></li>
</ul>
</li>
<li>h.264; THe encoding used for most videos on the web today
<ul>
<li><a href="https://www.youtube.com/watch?v=J9RemuYxA4s" class="external alias">H.264 Part 1: Encoding &amp; Decoding Basics</a></li>
<li><a href="https://www.youtube.com/watch?v=1PMqXdWJHNs" class="external alias">H 264 Video Compression</a></li>
<li><a href="https://www.vcodex.com/an-overview-of-h264-advanced-video-coding/" class="external alias">An Overview of H.264 Advanced Video Coding</a></li>
<li><a href="https://api.video/what-is/h-264/" class="external alias">api.video h.264</a></li>
<li><a href="https://www.e-consystems.com/blog/camera/technology/what-is-h-264-video-encoding-how-does-h-264-codec-work/" class="external alias">What is H.264 video encoding? How does H.264 codec work?</a></li>
</ul>
</li>
</ul>
<p>Most commonly videos are MPEG-4 (<code>.mp4</code>) using a <code>h.264</code> codec to encode the data. A good broad topic video can be found <a href="https://www.youtube.com/watch?v=QoZ8pccsYo4" class="external alias">here</a></p>
<h2 id="additional-resources">Additional Resources<a aria-hidden="true" tabindex="-1" data-no-popover="true" href="#additional-resources" class="internal alias"> §</a></h2>
<ul>
<li><a href="https://kieranwood.ca/tech/blog/making-things-small/" class="external alias">Making Things Small | Kieran Wood</a></li>
<li><a href="https://evanhahn.com/worlds-smallest-png/" class="external alias">The world’s smallest PNG (evanhahn.com)</a></li>
<li><a href="https://www.youtube.com/watch?v=OtDxDvCpPL4" class="external alias">Compression: Crash Course Computer Science #21 - YouTube</a></li>
<li><a href="https://www.youtube.com/watch?v=M5c_RFKVkko" class="external alias">Entropy in Compression - Computerphile (youtube.com)</a></li>
<li><a href="https://www.youtube.com/watch?v=Lto-ajuqW3w" class="external alias">Compression - Computerphile - YouTube</a></li>
<li><a href="https://www.youtube.com/watch?v=Z4AgvG2Xg0k" class="external alias">CMPRSN (Compression Overview) - Computerphile (youtube.com)</a></li>
</ul></article></div><div class="right sidebar"><div class="graph "><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[]}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[]}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#encoding-as-compression" data-for="encoding-as-compression">Encoding as compression</a></li><li class="depth-0"><a href="#text" data-for="text">Text</a></li><li class="depth-0"><a href="#images" data-for="images">Images</a></li><li class="depth-1"><a href="#lossless" data-for="lossless">Lossless</a></li><li class="depth-1"><a href="#lossy" data-for="lossy">Lossy</a></li><li class="depth-1"><a href="#base-64" data-for="base-64">Base 64</a></li><li class="depth-0"><a href="#videos--audio" data-for="videos--audio">Videos &amp; Audio</a></li><li class="depth-1"><a href="#sampling" data-for="sampling">Sampling</a></li><li class="depth-1"><a href="#codecs" data-for="codecs">Codecs</a></li><li class="depth-0"><a href="#why-not-compress-everything" data-for="why-not-compress-everything">Why not compress everything?</a></li><li class="depth-0"><a href="#compression-systems" data-for="compression-systems">Compression systems</a></li><li class="depth-0"><a href="#additional-resources" data-for="additional-resources">Additional Resources</a></li></ul></div></div><div class="backlinks "><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div></div><footer class><hr/><p>Created with <a href="https://quartz.jzhao.xyz/" target="_blank">Quartz v4.1.4</a>, © 2024</p><ul><li><a href="https://github.com/descent098">GitHub</a></li><li><a href="https://linkedin.com/in/kieran-wood">LinkedIn</a></li><li><a href="https://kieranwood.ca">Main Site</a></li><li><a href="https://canadiancoding.ca">Canadian Coding</a></li><li><a href="https://kieranwood.ca/tech">Tech Blog</a></li><li><a href="https://kieranwood.ca/philosophy">Philosophy Blog</a></li></ul><script>document.querySelectorAll('img').forEach( 
  (image)=>{
      image.addEventListener('click', focusImage)
  }
)

function focusImage(){
  if (this.classList.contains('focusedImage')){
      document.exitFullscreen()
  }else{
      this.requestFullscreen()
  }
  this.classList.toggle('focusedImage')
}</script></footer></div></body><script src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">// quartz/components/scripts/quartz/components/scripts/callout.inline.ts
function toggleCallout() {
  const outerBlock = this.parentElement;
  outerBlock.classList.toggle(`is-collapsed`);
  const collapsed = outerBlock.classList.contains(`is-collapsed`);
  const height = collapsed ? this.scrollHeight : outerBlock.scrollHeight;
  outerBlock.style.maxHeight = height + `px`;
  let current = outerBlock;
  let parent = outerBlock.parentElement;
  while (parent) {
    if (!parent.classList.contains(`callout`)) {
      return;
    }
    const collapsed2 = parent.classList.contains(`is-collapsed`);
    const height2 = collapsed2 ? parent.scrollHeight : parent.scrollHeight + current.scrollHeight;
    parent.style.maxHeight = height2 + `px`;
    current = parent;
    parent = parent.parentElement;
  }
}
function setupCallout() {
  const collapsible = document.getElementsByClassName(
    `callout is-collapsible`
  );
  for (const div of collapsible) {
    const title = div.firstElementChild;
    if (title) {
      title.removeEventListener(`click`, toggleCallout);
      title.addEventListener(`click`, toggleCallout);
      const collapsed = div.classList.contains(`is-collapsed`);
      const height = collapsed ? title.scrollHeight : div.scrollHeight;
      div.style.maxHeight = height + `px`;
    }
  }
}
document.addEventListener(`nav`, setupCallout);
window.addEventListener(`resize`, setupCallout);
</script><script type="module">
          import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
          const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
          mermaid.initialize({
            startOnLoad: false,
            securityLevel: 'loose',
            theme: darkMode ? 'dark' : 'default'
          });
          document.addEventListener('nav', async () => {
            await mermaid.run({
              querySelector: '.mermaid'
            })
          });
          </script><script src="../postscript.js" type="module"></script></html>